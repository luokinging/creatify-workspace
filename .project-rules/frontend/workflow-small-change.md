---
description: Small Change 工作流程 - 小型功能调整或优化的标准流程
---

# 工作流程：Small Change（小功能改动）

**原则：理解现有架构，遵循现有模式，不破坏一致性。**

---

## 步骤 1：需求理解

1. **明确需求**
   - 理解需要实现的功能
   - 确定需要修改或新增的文件
   - 理解数据流和交互流程

2. **评估影响范围**
   - 需要修改哪些文件？
   - 是否需要新增文件？
   - 是否需要修改类型定义？

---

## 步骤 2：查找现有模式

**关键问题：**
- 项目中是否已有类似功能？
- 现有的实现方式是什么？
- 我应该遵循哪个模式？

**查找方法：**
- 在 `feature/` 目录下搜索类似功能
- 查看现有的 Manager/Hook 实现
- 检查 `component/` 和 `block/` 中是否有可复用的组件
- 查看类型定义文件理解数据结构
- 读取现有实现理解模式和架构

---

## 步骤 3：实施改动

**遵循现有架构：**

| 场景 | 应该做什么 | 不应该做什么 |
|------|-----------|-------------|
| 需要新增筛选器 | 在 `FilterManager` 中添加新字段 | 在组件中用 `useState` 管理筛选状态 |
| 需要调用新 API | 在 `api/` 目录下添加新函数 | 在组件中直接 `fetch()` |
| 需要获取列表数据 | 使用 `PaginatedQueryManager`、`createAutoKeyMiniQueryClient` 等工具类 | 手动管理 loading/error 状态 |
| 需要新增 UI 组件 | 在 `component/` 或 `block/` 中创建 | 在 Page 中内联一个大组件 |
| 需要新增类型 | 在 `type.ts` 中添加类型定义 | 在组件中内联类型定义 |

**实施步骤：**
1. 创建或修改必要的文件
2. 遵循项目的目录结构标准
3. 使用现有的组件和工具函数
4. 保持代码风格一致

---

## 步骤 4：验证与提交

1. **类型检查**
   - 运行类型检查确保没有类型错误

2. **代码质量检查**
   - 运行代码格式检查
   - 运行代码质量检查

3. **检查清单**
   - [ ] 类型检查通过
   - [ ] 代码格式正确
   - [ ] 代码质量检查通过
   - [ ] 遵循了现有的代码风格
   - [ ] 遵循了项目的架构规范
   - [ ] 没有引入不必要的依赖

