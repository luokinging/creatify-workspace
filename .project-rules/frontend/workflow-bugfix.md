---
description: Bugfix 工作流程 - 修复现有功能缺陷的标准流程
---

# 工作流程：Bugfix（修复缺陷）

**原则：快速定位，最小改动，工具验证。**

---

## 步骤 1：问题定位

1. **理解问题描述**
   - 明确问题现象（如：类型错误、运行时错误、逻辑错误）
   - 确定问题发生的文件或模块
   - 理解预期行为

2. **代码搜索与分析**
   - 搜索问题相关的功能或模块代码
   - 搜索具体的错误信息或关键词
   - 读取相关文件理解上下文和依赖关系

3. **定位根因**
   - 分析数据流：数据来源 -> 转换 -> 使用
   - 检查类型定义是否匹配
   - 检查 API 调用是否正确
   - 检查状态管理逻辑

4. **确认影响范围**
   - 搜索相关代码的使用位置
   - 检查是否有其他文件依赖被修改的代码
   - 评估修改的影响范围

---

## 步骤 2：修复实施

**修复原则：**
- 最小改动：只改必须改的地方
- 保持架构：不引入新的技术债
- 遵循现有模式：使用项目中已有的实现方式和工具类
- 避免"顺手重构"：Bugfix 不是重构的时机

**代码修改流程：**
1. 读取需要修改的文件，理解完整上下文
2. 进行精确修改，保持代码风格一致
3. 确保修改符合项目代码风格和架构规范

---

## 步骤 3：验证与测试

1. **类型检查**
   - 运行类型检查确保没有类型错误
   - 修复所有类型相关问题

2. **代码质量检查**
   - 运行代码格式检查
   - 运行代码质量检查
   - 读取 lint 错误并修复所有问题

3. **检查清单**
   - [ ] 类型检查通过
   - [ ] 代码格式正确
   - [ ] 代码质量检查通过
   - [ ] 没有未使用的导入
   - [ ] 没有 console.log 残留
   - [ ] 修改范围最小化

